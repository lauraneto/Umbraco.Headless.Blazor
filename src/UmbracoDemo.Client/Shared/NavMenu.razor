@using UmbracoDemo.Client.Models.DataTypes
@using UmbracoDemo.Client.Models.Pages
@using UmbracoDemo.Client.Models.Pages.Abstractions
@using UmbracoDemo.Client.Services
<MudIconButton Icon="@Icons.Material.Outlined.Home" Color="Color.Inherit" Href="@(Settings?.HomeLink?.FirstOrDefault()?.GetUrl())" HtmlTag="a" />
<MudSpacer />
<MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="true">
    @foreach (var link in Settings?.HeaderLinks ?? Enumerable.Empty<Link>())
    {
        <MudLink Color="Color.Inherit" Href="@link.GetUrl()" Match="NavLinkMatch.Prefix" Class="mx-8">@link.Title</MudLink>
    }
</MudHidden>
<MudSpacer />
<PreviewToggle OnPreviewToggled="OnPreviewToggled" />
<MudIconButton Icon="@Icons.Material.Outlined.Search" Color="Color.Inherit" Link="@(Settings?.SearchLink?.FirstOrDefault()?.GetUrl())" />
<LanguagePicker Page="Page" />
<MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="false">
    <MudMenu Label="Open Menu" Icon="@Icons.Material.Outlined.Menu" Color="Color.Inherit">
        @foreach (var link in Settings?.HeaderLinks ?? Enumerable.Empty<Link>())
        {
            <MudMenuItem Color="Color.Inherit" Href="@link.GetUrl()" Match="NavLinkMatch.All">@link.Title</MudMenuItem>
        }
    </MudMenu>
</MudHidden>

@code
{
    [Parameter]
    public BasePage? Page { get; set; }

    [Parameter]
    public Settings? Settings { get; set; }

    [Parameter]
    public EventCallback OnPreviewToggled { get; set; }
}
