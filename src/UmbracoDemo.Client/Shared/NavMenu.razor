@using UmbracoDemo.Client.Services
@using UmbracoDemo.Client.Umbraco
<MudIconButton Icon="@Icons.Material.Outlined.Home" Color="Color.Inherit" Href="@(Settings?.Properties.HomeLink?.FirstOrDefault()?.GetUrl())" HtmlTag="a" />
<MudSpacer />
<MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="true">
    @foreach (var link in Settings?.Properties.HeaderLinks ?? Enumerable.Empty<ApiLinkModel>())
    {
        <MudLink Color="Color.Inherit" Href="@link.GetUrl()" Match="NavLinkMatch.Prefix" Class="mx-8">@link.Title</MudLink>
    }
</MudHidden>
<MudSpacer />
<PreviewToggle OnPreviewToggled="OnPreviewToggled" />
<MudIconButton Icon="@Icons.Material.Outlined.Search" Color="Color.Inherit" Href="@(Settings?.Properties.SearchLink?.FirstOrDefault()?.GetUrl())" />
<LanguagePicker Page="Page" />
<MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="false">
    <MudMenu Label="Open Menu" Icon="@Icons.Material.Outlined.Menu" Color="Color.Inherit">
        @foreach (var link in Settings?.Properties.HeaderLinks ?? Enumerable.Empty<ApiLinkModel>())
        {
            <MudMenuItem Color="Color.Inherit" Href="@link.GetUrl()" Match="NavLinkMatch.All">@link.Title</MudMenuItem>
        }
    </MudMenu>
</MudHidden>

@code
{
    [Parameter]
    public IApiContentResponseModel? Page { get; set; }

    [Parameter]
    public Settings__cadContentResponseModel? Settings { get; set; }

    [Parameter]
    public EventCallback OnPreviewToggled { get; set; }
}
